{"version":3,"file":"editor.js","mappings":"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","sources":["webpack://wp-shlink/./src/css/editor.scss?5a0f","webpack://wp-shlink/external window [\"wp\",\"element\"]","webpack://wp-shlink/webpack/bootstrap","webpack://wp-shlink/webpack/runtime/compat get default export","webpack://wp-shlink/webpack/runtime/define property getters","webpack://wp-shlink/webpack/runtime/hasOwnProperty shorthand","webpack://wp-shlink/webpack/runtime/make namespace object","webpack://wp-shlink/./src/js/editor.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"wp\"][\"element\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import '../css/editor.scss';\n\n(wp => {\n\n\tconst { registerPlugin } = wp.plugins;\n\tconst { PluginDocumentSettingPanel } = wp.editPost;\n\tconst { TextControl } = wp.components;\n\tconst { __ } = wp.i18n;\n\n\tvar ShortUrl = () => {\n\n\t\tvar shortUrl = wp.data.useSelect(select => {\n\t\t\tvar meta = select('core/editor').getEditedPostAttribute('meta');\n\t\t\treturn meta.shlink_short_url || null;\n\t\t}, []);\n\n\t\tif (shortUrl) {\n\t\t\treturn (\n\t\t\t\t<TextControl\n\t\t\t\t\tclassName=\"shlink-input\"\n\t\t\t\t\tlabel={__('Short URL', 'wp-shlink')}\n\t\t\t\t\tvalue={shortUrl}\n\t\t\t\t\treadOnly=\"readOnly\"\n\t\t\t\t\tonFocus={event => {\n\t\t\t\t\t\tevent.target.select();\n\t\t\t\t\t\tif (navigator.clipboard) {\n\t\t\t\t\t\t\tvar container = event.target.closest('.shlink-container');\n\t\t\t\t\t\t\tvar copied = container.querySelector('.shlink-copied');\n\t\t\t\t\t\t\tvar text = event.target.value;\n\t\t\t\t\t\t\tnavigator.clipboard.writeText(text).then(function() {\n\t\t\t\t\t\t\t\tcopied.classList.add('visible');\n\t\t\t\t\t\t\t}, function(err) {\n\t\t\t\t\t\t\t\tconsole.log('error copying');\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\tonBlur={event => {\n\t\t\t\t\t\tvar container = event.target.closest('.shlink-container');\n\t\t\t\t\t\tvar copied = container.querySelector('.shlink-copied');\n\t\t\t\t\t\tcopied.classList.remove('visible');\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t);\n\t\t} else {\n\t\t\treturn 'This post has no short URL.';\n\t\t}\n\t};\n\n\tregisterPlugin('shlink', {\n\t\trender: () => {\n\t\t\treturn (\n\t\t\t\t<PluginDocumentSettingPanel\n\t\t\t\t\tname=\"shlink-panel\"\n\t\t\t\t\ttitle=\"Shlink\"\n\t\t\t\t\tclassName=\"shlink-editor-sidebar\">\n\t\t\t\t\t<div className=\"shlink-container\">\n\t\t\t\t\t\t<ShortUrl />\n\t\t\t\t\t\t<div className=\"shlink-copied\">copied to clipboard</div>\n\t\t\t\t\t</div>\n\t\t\t\t</PluginDocumentSettingPanel>\n\t\t\t)\n\t\t},\n\t\ticon: false\n\t});\n\n})(window.wp);\n"],"names":["wp","registerPlugin","plugins","PluginDocumentSettingPanel","editPost","TextControl","components","__","i18n","ShortUrl","shortUrl","data","useSelect","select","meta","getEditedPostAttribute","shlink_short_url","event","target","navigator","clipboard","container","closest","copied","querySelector","text","value","writeText","then","classList","add","err","console","log","remove","render","icon","window"],"sourceRoot":""}